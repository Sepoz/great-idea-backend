(this.webpackJsonpreddit2=this.webpackJsonpreddit2||[]).push([[0],{14:function(t,e,n){t.exports=n(36)},36:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(13),l=n.n(c),r=n(2),u=n(3),s=n.n(u),i=function(t){var e=t.newPost,n=t.setNewPost,a=t.posts,c=t.setPosts,l=t.newTitle,r=t.setNewTitle;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var o={title:l,content:e,karmaTotal:1,date:(new Date).toUTCString()};s.a.post("http://localhost:3001/posts",o).then((function(t){c(a.concat(t.data)),n(""),r("")})).catch((function(t){return console.log(t)}))}},o.a.createElement("input",{type:"text",value:l,required:!0,onChange:function(t){r(t.target.value)}}),o.a.createElement("textarea",{type:"text",value:e,required:!0,onChange:function(t){n(t.target.value)}}),o.a.createElement("button",{type:"submit"},"post")))},m=function(t){var e=t.post,n=Object(a.useState)(e.karmaTotal),c=Object(r.a)(n,2),l=c[0],u=c[1],i=Object(a.useState)(!1),m=Object(r.a)(i,2),p=m[0],d=m[1];return Object(a.useEffect)((function(){s.a.patch("http://localhost:3001/posts/".concat(e.id),{karmaTotal:l}).then((function(t){return console.log(t.data)})).catch((function(t){return console.log(t)}))}),[l,e.id]),o.a.createElement("div",{className:"post"},o.a.createElement("h3",null,e.title),o.a.createElement("li",null,l," ",e.content),o.a.createElement("button",{onClick:function(){!1===p?(u(l+1),d(!0)):window.alert("You already voted!")}},"upvote"),o.a.createElement("button",{onClick:function(){!1===p?(u(l-1),d(!0)):window.alert("You alredy voted!")}},"downvote"),o.a.createElement("button",{onClick:function(){console.log("comments!")}},"comments"))},p=function(t){return t.posts.map((function(t){return o.a.createElement(m,{key:t.id,post:t})}))},d=function(){var t=Object(a.useState)([]),e=Object(r.a)(t,2),n=e[0],c=e[1],l=Object(a.useState)(""),u=Object(r.a)(l,2),m=u[0],d=u[1],f=Object(a.useState)(""),E=Object(r.a)(f,2),b=E[0],h=E[1];return Object(a.useEffect)((function(){s.a.get("http://localhost:3001/posts").then((function(t){c(t.data)})).catch((function(t){return console.log(t)}))}),[]),o.a.createElement("div",null,o.a.createElement("h1",null,"Reddit 2"),o.a.createElement("ul",null,o.a.createElement(p,{posts:n})),o.a.createElement(i,{newPost:m,setNewPost:d,posts:n,setPosts:c,newTitle:b,setNewTitle:h}))};l.a.render(o.a.createElement(d,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.35481814.chunk.js.map